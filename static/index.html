<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5">
<title>Harga Emas Treasury</title>
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css"/>
<style>
*{box-sizing:border-box}body{font-family:Arial,sans-serif;margin:0;padding:5px 20px 0 20px;background:#fff;color:#222;transition:background .3s,color .3s}h2{margin:0 0 2px}h3{margin:20px 0 10px}.header{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:2px}#jam{font-size:1.3em;color:#ff1744;font-weight:bold;margin-bottom:8px}table.dataTable{width:100%!important}table.dataTable thead th{font-weight:bold;white-space:nowrap;padding:10px 8px}table.dataTable tbody td{padding:8px;white-space:nowrap}th.waktu,td.waktu{width:100px;min-width:90px;max-width:1050px;text-align:left}th.profit,td.profit{width:154px;min-width:80px;max-width:160px;text-align:left}.theme-toggle-btn{padding:0;border:none;border-radius:50%;background:#222;color:#fff;cursor:pointer;font-size:1.5em;width:44px;height:44px;display:flex;align-items:center;justify-content:center;transition:background .3s}.theme-toggle-btn:hover{background:#444}.dark-mode{background:#181a1b!important;color:#e0e0e0!important}.dark-mode #jam{color:#ffb300!important}.dark-mode table.dataTable,.dark-mode table.dataTable thead th,.dark-mode table.dataTable tbody td{background:#23272b!important;color:#e0e0e0!important}.dark-mode table.dataTable thead th{color:#ffb300!important}.dark-mode .theme-toggle-btn{background:#ffb300;color:#222}.dark-mode .theme-toggle-btn:hover{background:#ffd54f}.container-flex{display:flex;gap:15px;flex-wrap:wrap;margin-top:10px}.card{border:1px solid #ccc;border-radius:6px;padding:10px}.card-usd{width:248px;height:370px;overflow-y:auto}.card-info{width:218px;min-height:200px;overflow-y:auto}.card-transfer{width:218px;min-height:100px;overflow-y:auto}.card-chart{overflow:hidden;height:370px;width:620px}.card-calendar{overflow:hidden;height:470px;width:650px}#priceList{list-style:none;padding:0;margin:0;max-height:275px;overflow-y:auto}#priceList li{margin-bottom:1px}.time{color:gray;font-size:.9em;margin-left:10px}#currentPrice{color:red;font-weight:bold}.dark-mode #currentPrice{color:#00E124;text-shadow:1px 1px #00B31C}#tabel tbody tr:first-child td{color:red!important;font-weight:bold}.dark-mode #tabel tbody tr:first-child td{color:#00E124!important}#isiTreasury,#isiTransfer{white-space:pre-line;color:red;font-weight:bold;overflow-y:auto;scrollbar-width:none;-ms-overflow-style:none;word-break:break-word}#isiTreasury::-webkit-scrollbar,#isiTransfer::-webkit-scrollbar{display:none}.dark-mode #isiTreasury,.dark-mode #isiTransfer{color:#00E124}.info-column{display:flex;flex-direction:column;gap:10px}.transfer-header{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-top:10px}.transfer-header h3{margin:0}.btn-kirim{display:inline-flex;align-items:center;gap:5px;padding:6px 14px;background:#0088cc;color:#fff;border:none;border-radius:5px;font-size:13px;font-weight:bold;cursor:pointer;text-decoration:none;transition:background .2s}.btn-kirim:hover{background:#006699}.btn-kirim svg{width:16px;height:16px;fill:currentColor}.dark-mode .btn-kirim{background:#00aced}.dark-mode .btn-kirim:hover{background:#0088cc}.chart-iframe{border:0;width:100%;display:block}#footerApp{width:100%;position:fixed;bottom:0;left:0;background:transparent;text-align:center;z-index:100;padding:8px 0}.marquee-text{display:inline-block;color:#F5274D;animation:marquee 70s linear infinite;font-weight:bold}.dark-mode .marquee-text{color:#B232B2}@keyframes marquee{0%{transform:translateX(100vw)}100%{transform:translateX(-100%)}}.loading-text{color:#999;font-style:italic}.tbl-wrap{width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch}.dataTables_wrapper{position:relative}.dt-top-controls{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:8px;margin-bottom:0!important;padding:8px 0;padding-bottom:0!important}.dataTables_wrapper .dataTables_length{margin:0!important;float:none!important;margin-bottom:0!important;padding-bottom:0!important}.dataTables_wrapper .dataTables_filter{margin:0!important;float:none!important}.dataTables_wrapper .dataTables_info{display:none!important}.dataTables_wrapper .dataTables_paginate{margin-top:10px!important;text-align:center!important}.tbl-wrap{margin-top:0!important;padding-top:0!important}#tabel.dataTable{margin-top:0!important}.tradingview-section{margin-top:0;clear:both}.tradingview-wrapper{height:400px;overflow:hidden;border:1px solid #ccc;border-radius:6px}.tradingview-wrapper iframe{width:100%;height:100%;border:0}#tabel tbody td.transaksi{line-height:1.3;padding:6px 8px}#tabel tbody td.transaksi .harga-beli{display:block;margin-bottom:2px}#tabel tbody td.transaksi .harga-jual{display:block;margin-bottom:2px}#tabel tbody td.transaksi .selisih{display:block;font-weight:bold}.profit-order-btns{display:none;gap:2px;align-items:center;margin-right:6px}.profit-btn{padding:4px 7px;border:1px solid #aaa;background:#f0f0f0;border-radius:4px;font-size:11px;cursor:pointer;font-weight:bold;transition:all .2s}.profit-btn:hover{background:#ddd}.profit-btn.active{background:#007bff;color:#fff;border-color:#007bff}.dark-mode .profit-btn{background:#333;border-color:#555;color:#ccc}.dark-mode .profit-btn:hover{background:#444}.dark-mode .profit-btn.active{background:#ffb300;color:#222;border-color:#ffb300}.filter-wrap{display:flex;align-items:center}@media(max-width:768px){body{padding:12px;padding-bottom:50px}h2{font-size:1.1em}h3{font-size:1em;margin:15px 0 8px}.header{margin-bottom:2px}#jam{font-size:1.5em;margin-bottom:6px}table.dataTable{font-size:13px;min-width:620px}table.dataTable thead th{padding:8px 6px}table.dataTable tbody td{padding:6px}.theme-toggle-btn{width:40px;height:40px;font-size:1.3em}.container-flex{flex-direction:column;gap:15px}.card-usd,.card-info,.card-transfer,.card-chart,.card-calendar{width:100%!important;max-width:100%!important;min-width:0!important}.card-usd{height:auto;min-height:320px}.card-info{min-height:150px}.card-transfer{min-height:80px}.card-chart{height:380px}.card-chart iframe{height:440px!important;margin-top:-60px}.card-calendar{height:450px}.card-calendar iframe{height:100%!important}.info-column{gap:10px}.tradingview-section{margin-top:15px}.tradingview-section h3{margin:10px 0 8px}.tradingview-wrapper{height:350px}.dt-top-controls{flex-direction:row;justify-content:space-between;gap:5px;margin-bottom:8px;padding:5px 0}.dataTables_wrapper .dataTables_length{font-size:12px!important}.dataTables_wrapper .dataTables_filter{font-size:12px!important}.dataTables_wrapper .dataTables_filter input{width:80px!important;font-size:12px!important;padding:4px 6px!important}.dataTables_wrapper .dataTables_length select{font-size:12px!important;padding:3px!important}.dataTables_wrapper .dataTables_paginate .paginate_button{padding:4px 10px!important;font-size:12px!important;min-width:auto!important}#tabel{min-width:580px!important}#tabel tbody td{font-size:12px!important;padding:5px 4px!important}#tabel tbody td.waktu{width:85px!important;min-width:85px!important;max-width:85px!important}#tabel tbody td.transaksi{width:140px!important;min-width:140px!important;max-width:140px!important}#tabel tbody td.profit{width:120px!important;min-width:120px!important;max-width:120px!important}#tabel tbody td.transaksi .harga-beli,#tabel tbody td.transaksi .harga-jual,#tabel tbody td.transaksi .selisih{font-size:11px!important;margin-bottom:1px!important}.profit-order-btns{display:flex}.filter-wrap{flex-wrap:nowrap}.btn-kirim{padding:5px 10px;font-size:12px}}@media(max-width:480px){body{padding:10px;padding-bottom:45px}h2{font-size:1em}h3{font-size:.95em;margin:12px 0 8px}.header{margin-bottom:1px}#jam{font-size:1.3em;margin-bottom:5px}table.dataTable{font-size:12px;min-width:560px}table.dataTable thead th{padding:6px 4px}table.dataTable tbody td{padding:5px 4px}th.waktu,td.waktu{width:60px;min-width:50px;max-width:70px}.theme-toggle-btn{width:36px;height:36px;font-size:1.2em}.container-flex{gap:12px}.card{padding:8px}.card-usd{min-height:280px}.card-info{min-height:120px}.card-transfer{min-height:70px}.card-chart{height:340px}.card-chart iframe{height:400px!important;margin-top:-58px}.card-calendar{height:400px}.tradingview-section{margin-top:12px}.tradingview-section h3{margin:8px 0 6px}.tradingview-wrapper{height:300px}#footerApp{padding:5px 0}.marquee-text{font-size:12px}.dt-top-controls{gap:3px;margin-bottom:6px}.dataTables_wrapper .dataTables_length,.dataTables_wrapper .dataTables_filter{font-size:11px!important}.dataTables_wrapper .dataTables_filter input{width:65px!important;font-size:11px!important}.dataTables_wrapper .dataTables_length select{font-size:11px!important}.dataTables_wrapper .dataTables_paginate .paginate_button{padding:3px 8px!important;font-size:11px!important}#priceList{max-height:200px}#tabel{min-width:540px!important}#tabel tbody td{font-size:11px!important;padding:4px 3px!important}#tabel tbody td.waktu{width:80px!important;min-width:80px!important;max-width:80px!important}#tabel tbody td.transaksi{width:130px!important;min-width:130px!important;max-width:130px!important}#tabel tbody td.profit{width:110px!important;min-width:110px!important;max-width:110px!important}#tabel tbody td.transaksi .harga-beli,#tabel tbody td.transaksi .harga-jual,#tabel tbody td.transaksi .selisih{font-size:10px!important;margin-bottom:0!important}.profit-btn{padding:3px 5px;font-size:10px}.btn-kirim{padding:4px 8px;font-size:11px}.transfer-header h3{font-size:.95em}}
</style>
</head>
<body>
<div class="header">
<h2>MONITORING Harga Emas Treasury</h2>
<button class="theme-toggle-btn" id="themeBtn" onclick="toggleTheme()" title="Ganti Tema">üåô</button>
</div>
<div id="jam"></div>
<div class="tbl-wrap">
<table id="tabel" class="display">
<thead>
<tr>
<th class="waktu">Waktu</th>
<th>Data Transaksi</th>
<th class="profit" id="thP1">Est. cuan 20 JT ‚û∫ gr</th>
<th class="profit" id="thP2">Est. cuan 30 JT ‚û∫ gr</th>
<th class="profit" id="thP3">Est. cuan 40 JT ‚û∫ gr</th>
<th class="profit" id="thP4">Est. cuan 50 JT ‚û∫ gr</th>
</tr>
</thead>
<tbody></tbody>
</table>
</div>
<div class="tradingview-section">
<h3>Chart Harga Emas (XAU/USD)</h3>
<div class="tradingview-wrapper" id="tradingview_chart"></div>
</div>
<div class="container-flex">
<div>
<h3>Harga USD/IDR Google Finance</h3>
<div class="card card-usd" style="margin-top:0;padding-top:2px">
<p>Harga saat ini: <span id="currentPrice" class="loading-text">Memuat data...</span></p>
<h4>Harga Terakhir:</h4>
<ul id="priceList"><li class="loading-text">Menunggu data...</li></ul>
</div>
</div>
<div>
<h3 style="display:block;margin-top:30px">Chart Harga USD/IDR Investing - Jangka Waktu 15 Menit</h3>
<div class="card card-chart">
<iframe class="chart-iframe" src="https://sslcharts.investing.com/index.php?force_lang=54&pair_ID=2138&timescale=900&candles=80&style=candles" height="430" style="margin-top:-62px" loading="lazy"></iframe>
</div>
</div>
</div>
<div class="container-flex">
<div class="info-column">
<div>
<h3 style="margin-top:0">Sekilas Ingfo Treasury</h3>
<div class="card card-info" style="margin-top:0;padding-top:8px">
<div id="isiTreasury">Belum ada info treasury.</div>
</div>
</div>
<div>
<div class="transfer-header">
<h3>Info Transfer ‚û∫ </h3>
<a href="https://t.me/Mt_Testing89_bot" target="_blank" class="btn-kirim">
<svg viewBox="0 0 24 24"><path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/></svg>
KIRIM
</a>
</div>
<div class="card card-transfer" style="margin-top:8px;padding-top:8px">
<div id="isiTransfer">Belum ada data transfer.</div>
</div>
</div>
</div>
<div>
<h3 style="display:block;margin-top:30px">Kalender Ekonomi</h3>
<div class="card card-calendar">
<iframe class="chart-iframe" src="https://sslecal2.investing.com?columns=exc_flags,exc_currency,exc_importance,exc_actual,exc_forecast,exc_previous&category=_employment,_economicActivity,_inflation,_centralBanks,_confidenceIndex&importance=3&features=datepicker,timezone,timeselector,filters&countries=5,37,48,35,17,36,26,12,72&calType=week&timeZone=27&lang=54" height="467" loading="lazy"></iframe>
</div>
</div>
</div>
<footer id="footerApp"><span class="marquee-text">&copy;2026 ~ahmadkholil~</span></footer>
<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://s3.tradingview.com/tv.js"></script>
<script>
(function(){var isDark=localStorage.getItem('theme')==='dark';var lastDataHash='';var messageQueue=[];var isProcessing=false;var latestHistory=[];var savedPriority=localStorage.getItem('profitPriority');var profitPriority=(savedPriority&&['jt20','jt30','jt40','jt50'].indexOf(savedPriority)!==-1)?savedPriority:'jt20';var headerLabels={'jt20':'Est. cuan 20 JT ‚û∫ gr','jt30':'Est. cuan 30 JT ‚û∫ gr','jt40':'Est. cuan 40 JT ‚û∫ gr','jt50':'Est. cuan 50 JT ‚û∫ gr'};function getOrderedProfitKeys(){var all=['jt20','jt30','jt40','jt50'];var result=[profitPriority];all.forEach(function(k){if(k!==profitPriority)result.push(k)});return result}function updateTableHeaders(){var keys=getOrderedProfitKeys();$('#thP1').text(headerLabels[keys[0]]);$('#thP2').text(headerLabels[keys[1]]);$('#thP3').text(headerLabels[keys[2]]);$('#thP4').text(headerLabels[keys[3]])}function createTradingViewWidget(){var wrapper=document.getElementById('tradingview_chart');var h=wrapper.offsetHeight||400;new TradingView.widget({width:"100%",height:h,symbol:"OANDA:XAUUSD",interval:"15",timezone:"Asia/Jakarta",theme:isDark?'dark':'light',style:"1",locale:"id",toolbar_bg:"#f1f3f6",enable_publishing:false,hide_top_toolbar:false,save_image:false,container_id:"tradingview_chart"})}var table=$('#tabel').DataTable({pageLength:4,lengthMenu:[4,8,18,48,88,888,1441],order:[],deferRender:true,dom:'<"dt-top-controls"lf>t<"bottom"p><"clear">',columns:[{data:"waktu"},{data:"transaction"},{data:"p1"},{data:"p2"},{data:"p3"},{data:"p4"}],language:{emptyTable:"Menunggu data harga emas dari Treasury...",zeroRecords:"Tidak ada data yang cocok",lengthMenu:"Lihat _MENU_",search:"Cari:",paginate:{first:"¬´",previous:"Kembali",next:"Lanjut",last:"¬ª"}},initComplete:function(){var filterDiv=$('.dataTables_filter');var activeVal=profitPriority.replace('jt','');var profitBtns=$('<div class="profit-order-btns" id="profitOrderBtns"><button class="profit-btn'+(activeVal==='20'?' active':'')+'" data-val="20">20</button><button class="profit-btn'+(activeVal==='30'?' active':'')+'" data-val="30">30</button><button class="profit-btn'+(activeVal==='40'?' active':'')+'" data-val="40">40</button><button class="profit-btn'+(activeVal==='50'?' active':'')+'" data-val="50">50</button></div>');filterDiv.wrap('<div class="filter-wrap"></div>');filterDiv.before(profitBtns);$('#profitOrderBtns').on('click','.profit-btn',function(){var val=$(this).data('val');profitPriority='jt'+val;localStorage.setItem('profitPriority',profitPriority);$('#profitOrderBtns .profit-btn').removeClass('active');$(this).addClass('active');if(latestHistory.length){renderTable(true)}});updateTableHeaders()}});function hashData(h){if(!h||!h.length)return'';var f=h[0];return f.created_at+'|'+f.buying_rate+'|'+h.length}function renderTable(forceRender){var h=latestHistory;if(!h||!h.length)return;var newHash=hashData(h);if(!forceRender&&newHash===lastDataHash)return;lastDataHash=newHash;h.sort(function(a,b){return new Date(b.created_at)-new Date(a.created_at)});var keys=getOrderedProfitKeys();updateTableHeaders();var arr=h.map(function(d){return{waktu:d.waktu_display,transaction:d.transaction_display,p1:d[keys[0]],p2:d[keys[1]],p3:d[keys[2]],p4:d[keys[3]]}});table.clear().rows.add(arr).draw(false);table.page('first').draw(false)}function updateTable(h){if(!h||!h.length)return;latestHistory=h;renderTable(false)}function updateUsd(h){var c=document.getElementById("currentPrice"),p=document.getElementById("priceList");if(!h||!h.length){c.textContent="Menunggu data...";c.className="loading-text";p.innerHTML='<li class="loading-text">Menunggu data...</li>';return}c.className="";function prs(s){return parseFloat(s.trim().replace(/\./g,'').replace(',','.'))}var r=h.slice().reverse();var icon="‚ûñ";if(r.length>1){var n=prs(r[0].price),pr=prs(r[1].price);icon=n>pr?"üöÄ":n<pr?"üîª":"‚ûñ"}c.innerHTML=r[0].price+" "+icon;var html='';for(var i=0;i<r.length;i++){var ic="‚ûñ";if(i===0&&r.length>1){var n=prs(r[0].price),pr=prs(r[1].price);ic=n>pr?"üü¢":n<pr?"üî¥":"‚ûñ"}else if(i<r.length-1){var n=prs(r[i].price),nx=prs(r[i+1].price);ic=n>nx?"üü¢":n<nx?"üî¥":"‚ûñ"}else if(r.length>1){var n=prs(r[i].price),pr=prs(r[i-1].price);ic=n<pr?"üî¥":n>pr?"üü¢":"‚ûñ"}html+='<li>'+r[i].price+' <span class="time">('+r[i].time+')</span> '+ic+'</li>'}p.innerHTML=html}function updateInfo(i){document.getElementById("isiTreasury").innerHTML=i||'Belum ada info treasury.'}function updateTransfer(data){var container=document.getElementById('isiTransfer');if(!data||!data.jam_masuk){container.innerHTML='Belum ada data transfer.';return}var html='Masuk Jam '+data.jam_masuk+' Durasi ‚û∫ '+data.durasi+'<br><br>';html+='update terakhir: '+data.last_update+' WIB';container.innerHTML=html}function processMessage(d){if(d.ping)return;if(d.history)updateTable(d.history);if(d.usd_idr_history)updateUsd(d.usd_idr_history);if(d.treasury_info!==undefined)updateInfo(d.treasury_info);if(d.transfer_jam!==undefined)updateTransfer(d.transfer_jam)}function processQueue(){if(isProcessing||!messageQueue.length)return;isProcessing=true;var msg=messageQueue.shift();try{processMessage(msg)}catch(e){}isProcessing=false;if(messageQueue.length)requestAnimationFrame(processQueue)}var ws,ra=0,pingInterval;function conn(){var pr=location.protocol==="https:"?"wss:":"ws:";ws=new WebSocket(pr+"//"+location.host+"/ws");ws.binaryType='arraybuffer';ws.onopen=function(){ra=0;if(pingInterval)clearInterval(pingInterval);pingInterval=setInterval(function(){if(ws&&ws.readyState===1)try{ws.send('ping')}catch(e){}},25000)};ws.onmessage=function(e){try{var d;if(e.data instanceof ArrayBuffer){d=JSON.parse(new TextDecoder().decode(e.data))}else{d=JSON.parse(e.data)}messageQueue.push(d);requestAnimationFrame(processQueue)}catch(x){}};ws.onclose=function(){if(pingInterval)clearInterval(pingInterval);ra++;setTimeout(conn,Math.min(1000*Math.pow(1.3,ra-1),15000))};ws.onerror=function(){}}conn();function updateJam(){var n=new Date();var tgl=n.toLocaleDateString('id-ID',{day:'2-digit',month:'long',year:'numeric'});var jam=n.toLocaleTimeString('id-ID',{hour12:false});document.getElementById("jam").textContent=tgl+" "+jam+" WIB "}setInterval(updateJam,1000);updateJam();window.toggleTheme=function(){var b=document.body,btn=document.getElementById('themeBtn');b.classList.toggle('dark-mode');isDark=b.classList.contains('dark-mode');btn.textContent=isDark?"‚òÄÔ∏è":"üåô";localStorage.setItem('theme',isDark?'dark':'light');document.getElementById('tradingview_chart').innerHTML='';createTradingViewWidget()};if(localStorage.getItem('theme')==='dark'){document.body.classList.add('dark-mode');document.getElementById('themeBtn').textContent="‚òÄÔ∏è"}setTimeout(createTradingViewWidget,100)})();
</script>
</body>
</html>
